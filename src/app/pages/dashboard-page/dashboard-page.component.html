<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
  @for (module of modules(); track module.route) {
    <article class="bg-card border border-[#E4E9E4] rounded-2xl p-6 flex flex-col gap-5 shadow-card">
      <div class="flex items-start justify-between gap-4">
        <div>
          <p class="text-xs uppercase tracking-[0.35em] text-muted">Módulo</p>
          <h2 class="text-xl font-semibold text-ink">{{ module.title }}</h2>
          <p class="text-muted text-sm mt-1">{{ module.description }}</p>
        </div>
        <div class="w-12 h-12 rounded-xl bg-gradient-to-br {{ module.tone }} flex items-center justify-center text-brand-dark">
          <i class="pi" [ngClass]="module.icon"></i>
        </div>
      </div>
      <a
        [routerLink]="module.route"
        pButton
        label="Abrir módulo"
        class="!bg-brand hover:!bg-brand-dark !text-white !border-none !rounded px-6 py-3 w-fit"
      ></a>
    </article>
  }
</div>

<section class="mt-10 bg-card border border-[#E4E9E4] rounded-2xl p-6 shadow-card">
  <header class="flex flex-wrap gap-3 items-center justify-between">
    <div>
      <p class="text-xs uppercase tracking-[0.35em] text-muted">Resumen del día</p>
      <h3 class="text-xl font-semibold text-ink">Seguimiento de órdenes activas y próximas a vencer</h3>
    </div>
    <span class="text-xs text-muted">Datos generados en tiempo real</span>
  </header>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
    <div class="rounded-2xl p-5 border border-[#D9E2DA] bg-white">
      <p class="text-sm text-muted">Órdenes activas hoy</p>
      <div class="flex items-end gap-3 mt-3">
        <span class="text-5xl font-bold text-ink">{{ todaySummary().active }}</span>
        <span class="text-xs uppercase tracking-wider text-muted">0 avisos</span>
      </div>
      <p class="text-muted text-sm mt-4">{{ todaySummary().activeMessage }}</p>
    </div>
    <div class="rounded-2xl p-5 border border-[#D9E2DA] bg-white">
      <p class="text-sm text-muted">Órdenes por vencer</p>
      <div class="flex items-end gap-3 mt-3">
        <span class="text-5xl font-bold text-accent">{{ todaySummary().due }}</span>
        <span class="text-xs uppercase tracking-wider text-accent/80">{{ dueLabel() }}</span>
      </div>
      <p class="text-muted text-sm mt-4">{{ todaySummary().dueMessage }}</p>
    </div>
  </div>
</section>
